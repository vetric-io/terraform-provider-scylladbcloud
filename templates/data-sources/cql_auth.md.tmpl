---
page_title: "{{.Name}} {{.Type}} - {{.ProviderName}}"
subcategory: "Authentication"
description: |-
  Retrieves CQL authentication credentials for connecting to a ScyllaDB Cloud cluster.
---

# {{.Name}} ({{.Type}})

Retrieves CQL (Cassandra Query Language) authentication credentials for connecting to a ScyllaDB Cloud cluster. This data source provides the username, password, and seed node addresses needed to establish a connection to your cluster.

-> **Tip:** Use this data source to dynamically retrieve credentials for your applications instead of hardcoding them. The credentials can be passed to your application via environment variables or secrets management systems.

~> **Security:** The `password` attribute is marked as sensitive. Ensure you handle it appropriately in your Terraform configurations and avoid exposing it in logs or state files stored in insecure locations.

## Example Usage

### Basic Usage

{{ tffile "examples/data-sources/scylladbcloud_cql_auth/data-source.tf" }}

### Using with a Cluster Resource

```terraform
resource "scylladbcloud_cluster" "main" {
  name       = "Production Cluster"
  cloud      = "AWS"
  region     = "us-east-1"
  node_count = 3
  node_type  = "i3.xlarge"
  cidr_block = "172.31.0.0/16"

  enable_vpc_peering = true
  enable_dns         = true
}

data "scylladbcloud_cql_auth" "main" {
  cluster_id = scylladbcloud_cluster.main.cluster_id
  datacenter = scylladbcloud_cluster.main.datacenter
  dns        = true
}

# Pass credentials to your application
resource "kubernetes_secret" "scylla_credentials" {
  metadata {
    name = "scylla-credentials"
  }

  data = {
    seeds    = data.scylladbcloud_cql_auth.main.seeds
    username = data.scylladbcloud_cql_auth.main.username
    password = data.scylladbcloud_cql_auth.main.password
  }
}
```

### Using IP Addresses Instead of DNS

```terraform
data "scylladbcloud_cql_auth" "by_ip" {
  cluster_id = 1337
  datacenter = "AWS_US_EAST_1"
  dns        = false  # Returns IP addresses instead of DNS names
}

output "seed_ips" {
  value       = data.scylladbcloud_cql_auth.by_ip.seeds
  description = "Comma-separated list of seed node IP addresses"
}
```

## Argument Reference

This data source supports the following arguments:

### Required

* `cluster_id` - (Required) The numeric ID of the ScyllaDB Cloud cluster.

### Optional

* `datacenter` - (Optional) The datacenter name to retrieve credentials for (e.g., `AWS_US_EAST_1`). If not specified, the default datacenter is used.
* `dns` - (Optional) Whether to return DNS names for seed nodes instead of IP addresses. Defaults to `true` if the cluster has DNS enabled.

### Timeouts

`timeouts` block allows you to specify [timeouts](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts) for certain operations:

* `read` - (Default `5m`) Time to wait for reading the credentials.

## Attribute Reference

This data source exports the following attributes:

* `id` - A unique identifier for this data source instance.
* `seeds` - Comma-separated list of seed node addresses. These are the contact points for establishing a connection to the cluster. Returns DNS names or IP addresses depending on the `dns` argument.
* `username` - The CQL username for authentication. This is typically the admin user created with the cluster.
* `password` - (Sensitive) The CQL password for authentication. Handle this value securely.

## Connection Example

Once you have the credentials, you can connect to your cluster using any CQL-compatible driver. Here's an example connection string format:

```
cqlsh --username=<username> --password=<password> <seed_address>
```

Or programmatically in Python:

```python
from cassandra.cluster import Cluster
from cassandra.auth import PlainTextAuthProvider

auth_provider = PlainTextAuthProvider(
    username='<username>',
    password='<password>'
)

cluster = Cluster(
    contact_points=['<seed1>', '<seed2>', '<seed3>'],
    auth_provider=auth_provider
)

session = cluster.connect()
```

## Related Resources

* [scylladbcloud_cluster](../resources/cluster) - Create and manage clusters
* [scylladbcloud_vpc_peering](../resources/vpc_peering) - Set up VPC peering for private connectivity
* [scylladbcloud_allowlist_rule](../resources/allowlist_rule) - Configure IP allowlist for cluster access

